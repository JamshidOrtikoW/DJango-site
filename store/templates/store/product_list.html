<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Store</title>

  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

  <style>
    body {
      background: #f5f7fa;
      font-family: "Inter", sans-serif;
    }

    .navbar {
      border-radius: 14px;
    }

    /* Product card */
    .product-card {
      border: none;
      border-radius: 16px;
      overflow: hidden;
      background: #ffffff;
      box-shadow: 0 8px 22px rgba(0,0,0,0.06);
      transition: transform .25s ease, box-shadow .25s ease;
    }

    .product-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 28px rgba(0,0,0,0.10);
    }

    .product-img {
      height: 220px;
      object-fit: cover;
      width: 100%;
      transition: transform .35s ease;
    }

    .product-card:hover .product-img {
      transform: scale(1.07);
    }

    .badge-sale {
      position: absolute;
      top: 12px;
      left: 12px;
      background: #ef4444;
      color: white;
      padding: 0.45em 0.7em;
      border-radius: 8px;
      font-size: 0.8rem;
      letter-spacing: 0.3px;
    }

    .price {
      font-size: 1.25rem;
      font-weight: 700;
      color: #2563eb;
    }

    .btn-view {
      border-radius: 12px;
      padding: 10px 0;
      font-weight: 600;
      background: #2563eb;
      border: none;
    }

    .btn-view:hover {
      background: #1e4ecb;
    }
  </style>
</head>

<body class="p-4">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm mb-4 px-4">
    <div class="container-fluid">

      <a class="navbar-brand fw-bold fs-4" href="/">MyStore üõçÔ∏è</a>

      <div class="d-flex">
        <a href="{% url 'store:cart_detail' %}" class="btn btn-outline-primary">
          üõí Cart
        </a>
      </div>

    </div>
  </nav>

  <!-- Content -->
  <div class="container">

    <h1 class="text-center fw-bold mb-5">Explore Our Products</h1>

    <div class="row g-4">

      {% for product in products %}

      <div class="col-md-4">
        <div class="product-card position-relative">

          {% if product.is_on_sale %}
            <div class="badge-sale">Sale</div>
          {% endif %}

          {% if product.image %}
            <img src="{{ product.image.url }}" class="product-img" alt="{{ product.name }}">
          {% else %}
            <img src="https://via.placeholder.com/350x220?text=No+Image"
                 class="product-img"
                 alt="{{ product.name }}">
          {% endif %}

          <div class="p-4 text-center d-flex flex-column">

            <h5 class="fw-semibold mb-2">{{ product.name }}</h5>

            <div class="price mb-3">${{ product.price }}</div>

            <a href="{% url 'store:product_detail' product.slug %}"
               class="btn-view btn text-white mt-auto">
              View Details
            </a>

          </div>
        </div>
      </div>

      {% empty %}

      <p class="text-center text-muted mt-5">No products available right now.</p>

      {% endfor %}

    </div>

  </div>

</body>
</html>
